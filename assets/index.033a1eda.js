import{F as m,P as f}from"./vendor.b3b4cbce.js";import{p as I}from"./vendor.pdfjs.df470f9c.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function a(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(o){if(o.ep)return;o.ep=!0;const n=a(o);fetch(o.href,n)}})();function u(t){switch(t){case"dhl-privat":return b;case"dhl-privat-international":return v;case"dhl-retoure":return y;case"hermes-privat-v102":return P;case"adidas":return T;case"mediamarkt-saturn":return k;default:console.error("Unknown label type.")}}const b={file:{type:"pdf",page:1,rotation:90},width:1642,crop(t,e,a){e.drawImage(a,1964,108,1124,92,0,12,890,73),e.drawImage(a,1964,210,785,625,0,95,580,465);let r=296;e.drawImage(a,2763,215,r,r,594,95,r,r),e.rotate(-Math.PI/2),e.drawImage(a,3075,244,20,194,-395,645,-20,194),e.rotate(Math.PI/2),e.drawImage(a,2802,679,234,154,666,455,152,100),e.drawImage(a,1964,933,1124,152,0,565,890,120),e.beginPath(),e.moveTo(910,12),e.lineTo(910,t.height-12),e.stroke();let o=676,n=300;e.drawImage(a,2198,1546,o,n,950,30,o,n),e.drawImage(a,2198,1960,o,n,950,380,o,n)}},v={file:{type:"pdf",page:1,rotation:90},width:1878,crop(t,e,a){e.drawImage(a,1964,108,1124,92,0,12,890,73),e.drawImage(a,1964,210,785,625,0,95,580,465);let r=296;e.drawImage(a,2763,215,r,r,594,95,r,r),e.rotate(-Math.PI/2),e.drawImage(a,3075,244,20,194,-395,645,-20,194),e.rotate(Math.PI/2),e.drawImage(a,2770,740,300,35,590,520,300,35),e.drawImage(a,1964,933,1124,152,0,565,890,120),e.beginPath(),e.moveTo(910,12),e.lineTo(910,t.height-12),e.stroke();let o=940,n=270;e.drawImage(a,1964,1422,o,70,930,15,o,70),e.drawImage(a,2066,1644,o,n,936,110,o,n),e.drawImage(a,2066,2058,o,n,936,416,o,n)}},y={file:{type:"pdf",page:1,rotation:90},width:1642,crop(t,e,a){e.drawImage(a,2020,85,500,70,0,12,450,63),e.drawImage(a,2780,85,250,70,425,12,225,63),e.drawImage(a,2020,162,720,200,0,90,648,180),e.drawImage(a,2020,435,720,270,0,280,648,243),e.beginPath(),e.moveTo(0,580),e.lineTo(650,580),e.stroke(),e.drawImage(a,2020,745,720,110,0,590,648,99),e.beginPath(),e.moveTo(665,12),e.lineTo(665,t.height-12),e.stroke();let r=950,o=240;e.drawImage(a,2030,1230,r,120,686,15,r,120),e.drawImage(a,2030,1460,r,o,686,170,r,o),e.drawImage(a,2030,1810,r,o,686,445,r,o)}},P={file:{type:"pdf",page:1,rotation:0},width:1701,crop(t,e,a){e.drawImage(a,185,180,915,45,20,20,915,45),e.drawImage(a,200,1115,770,350,20,80,770,350),e.drawImage(a,1625,165,485,80,40,460,364,60),e.drawImage(a,1100,280,350,95,130,540,313,85),e.rotate(Math.PI/2),e.drawImage(a,2140,350,70,1020,650,-20,35,-510),e.rotate(-Math.PI/2),e.drawImage(a,1100,425,580,260,810,100,493,221),e.drawImage(a,780,870,250,220,560,370,225,198),e.drawImage(a,1100,865,580,260,810,370,493,221),e.drawImage(a,1100,1245,580,40,810,630,493,34),e.drawImage(a,1850,1325,230,140,645,600,138,84),e.drawImage(a,1640,1330,110,140,560,600,66,84),e.drawImage(a,210,370,370,640,1320,28,370,640),e.lineWidth=4,e.beginPath(),e.moveTo(0,2),e.lineTo(this.width,2),e.stroke(),e.beginPath(),e.moveTo(0,t.height-2),e.lineTo(this.width,t.height-2),e.stroke(),e.beginPath(),e.moveTo(2,4),e.lineTo(2,t.height-4),e.stroke(),e.beginPath(),e.moveTo(this.width-2,4),e.lineTo(this.width-2,t.height-4),e.stroke()}},T={file:{type:"pdf",page:1,rotation:0},width:1346,crop(t,e,a){e.drawImage(a,354,63,824,54,0,12,648,42),e.beginPath(),e.moveTo(0,65),e.lineTo(650,65),e.stroke(),e.drawImage(a,86,128,648,190,0,90,648,190),e.drawImage(a,86,319,527,262,0,280,527,262),e.drawImage(a,785,319,121,262,527,280,121,262),e.beginPath(),e.moveTo(0,580),e.lineTo(650,580),e.stroke(),e.drawImage(a,96,680,1010,140,0,590,648,90),e.beginPath(),e.moveTo(665,12),e.lineTo(665,t.height-12),e.stroke();let r=610,o=240;e.drawImage(a,1390,616,r,80,715,15,r,80),e.drawImage(a,1400,816,420,54,735,100,311,40),e.drawImage(a,170,952,r,o,715,180,r,o),e.drawImage(a,170,1326,r,o,715,445,r,o)}},k={file:{type:"pdf",page:3,rotation:90},width:1642,crop(t,e,a){e.drawImage(a,2188,243,1010,60,0,12,900,53),e.beginPath(),e.moveTo(0,75),e.lineTo(900,75),e.stroke(),e.drawImage(a,2197,361,150,376,0,100,150,376),e.drawImage(a,2419,361,750,376,150,100,750,376),e.beginPath(),e.moveTo(0,520),e.lineTo(900,520),e.stroke(),e.drawImage(a,2180,875,1010,165,0,530,900,147),e.beginPath(),e.moveTo(920,0),e.lineTo(920,696),e.stroke();let r=660,o=240;e.drawImage(a,2492,1181,400,100,1095,20,400,100),e.drawImage(a,2362,1360,r,o,965,180,r,o),e.drawImage(a,2362,1685,r,o,965,450,r,o)}},L=!1;console.log("Application loaded. debug =",L);document.getElementById("view");let l,g;convertLabel.addEventListener("click",B,!1);downloadLabel.addEventListener("click",S,!1);downloadLabelIMG.addEventListener("click",c,!1);function c(){m.exports.saveAs(new Blob([g],{type:"image/png"}),document.getElementById("file-input").files[0].name.replace(".pdf","")+"-Label.png")}async function S(){const t=await z();m.exports.saveAs(new Blob([t],{type:"application/pdf"}),document.getElementById("file-input").files[0].name.replace(".pdf","")+"-Label.pdf")}async function z(){const t=await f.create(),e=d(l.width)+n(6),a=n(62),r=t.addPage([e,a]),o=await t.embedPng(g);return r.drawImage(o,{x:n(3),y:n(1.5),width:e-n(6),height:a-n(3)}),t.save();function n(s){return s*.03937007874*72}function d(s){return s*72/300}}function B(){l=u(document.getElementById("label-type").value);const t=new FileReader;console.log("Reading file."),t.readAsArrayBuffer(document.getElementById("file-input").files[0]),t.onload=async e=>{const a=await I.exports.getDocument(t.result).promise;console.log("PDF loaded.",a);const r=await a.getPage(l.file.page),o=document.createElement("canvas"),n=r.getViewport({scale:4,rotation:l.file.rotation});o.width=n.width,o.height=n.height,await r.render({canvasContext:o.getContext("2d"),viewport:n}).promise;const d=new Image,s=new Promise(h=>d.onload=h);d.src=o.toDataURL(),await s,await new Promise(h=>setTimeout(h,100));const i=document.createElement("canvas"),w=i.getContext("2d");i.width=l.width,i.height=696,w.fillStyle="white",w.fillRect(0,0,i.width,i.height),w.strokeStyle="black",w.lineWidth=2,l.crop(i,w,d),console.log("Label cropped."),view.classList.add("invisible"),labelImg.src=i.toDataURL(),i.toBlob(h=>{const p=new FileReader;p.addEventListener("loadend",()=>{g=p.result,view.classList.remove("invisible")}),p.readAsArrayBuffer(h)},"image/png"),console.log("Finished.")}}
